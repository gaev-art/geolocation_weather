(this.webpackJsonpgeolocation_wether=this.webpackJsonpgeolocation_wether||[]).push([[0],{25:function(e,t,a){e.exports={container:"Header_container__16HIn",grow:"Header_grow__15kSQ",nav:"Header_nav__2MUFu"}},26:function(e,t,a){e.exports={container:"History_container__3JLY4",item:"History_item__Hvlcm"}},34:function(e,t,a){e.exports={appWrapper:"App_appWrapper__1UXbi",appWrapperContent:"App_appWrapperContent__31lJd"}},51:function(e,t,a){e.exports=a(80)},56:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15);a(56),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(8),i=a(19),s=a(48),l=a(23),u=a.n(l),m=a(30),d=a(10),p=a(17),E=a(31),h=a.n(E),g=function(e,t){return h.a.get("https://maps.googleapis.com/maps/api/geocode/json?1.x&latlng=".concat(t,",").concat(e,"&key=").concat("AIzaSyAMDNq4EDhQfuy_RJHxRUq4fWl1REJm90g")).then((function(e){return e.data}))},f={latitude:"",longitude:"",userAddress:"",historyUserAddress:[]},S=function(e,t){return{type:"SET_COORDINATES",latitude:e,longitude:t}},b=function(e){return{type:"GET_USER_ADDRESS",userAddress:e}},_=function(e){return{type:"HISTORY_USER_ADDRESS",historyUserAddress:e}},w=function(e,t){return h.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&apikey=").concat("454ccb6cae45bb710540dc2886c0820c","&lang=ru&units=metric")).then((function(e){return e.data})).catch((function(e){return console.log(e.message)}))},O={weather:[],main:{},weatherLS:[],mainLS:[],dateTimeLS:[]},v=function(e,t){return{type:"GET_WEATHER",weather:e,main:t}},y=function(e){return{type:"SET_WEATHER_IN_LS",weatherLS:e}},j=function(e){return{type:"SET_MAIN_IN_LS",mainLS:e}},A=function(e){return{type:"SET_DATE_TIME_IN_LS",dateTimeLS:e}},T=a(49),N=Object(i.combineReducers)({geolocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COORDINATES":return Object(p.a)({},e,{latitude:t.latitude,longitude:t.longitude});case"GET_USER_ADDRESS":return Object(p.a)({},e,{userAddress:t.userAddress});case"HISTORY_USER_ADDRESS":return Object(p.a)({},e,{historyUserAddress:[].concat(Object(d.a)(e.historyUserAddress),Object(d.a)(t.historyUserAddress))});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER":return Object(p.a)({},e,{weather:t.weather,main:t.main});case"SET_WEATHER_IN_LS":return Object(p.a)({},e,{weatherLS:[].concat(Object(d.a)(t.weatherLS),Object(d.a)(e.weatherLS))});case"SET_MAIN_IN_LS":return Object(p.a)({},e,{mainLS:[].concat(Object(d.a)(t.mainLS),Object(d.a)(e.mainLS))});case"SET_DATE_TIME_IN_LS":return Object(p.a)({},e,{dateTimeLS:[].concat(Object(d.a)(t.dateTimeLS),Object(d.a)(e.dateTimeLS))});default:return e}}}),L=Object(i.createStore)(N,Object(T.composeWithDevTools)(Object(i.applyMiddleware)(s.a))),I=a(21),R=a(34),k=a.n(R),D=a(102),U=a(99),x=a(25),H=a.n(x),W=a(101),J=a(100);function M(){return r.a.createElement("div",{className:H.a.grow},r.a.createElement(D.a,{color:"inherit"},r.a.createElement(U.a,{className:H.a.container},r.a.createElement("div",{className:H.a.grow}),r.a.createElement(J.a,{className:H.a.nav},r.a.createElement(I.b,{to:"/"},r.a.createElement(W.a,{button:!0},"Geolocation and Weather")),r.a.createElement(I.b,{to:"/history"},r.a.createElement(W.a,{button:!0},"History"))),r.a.createElement("div",{className:H.a.grow}))))}function C(){var e=Object(o.c)((function(e){return e.geolocation.latitude})),t=Object(o.c)((function(e){return e.geolocation.longitude})),a=Object(o.c)((function(e){return e.geolocation.userAddress}));return r.a.createElement("div",null,r.a.createElement("p",null,"Latitude: ",e),r.a.createElement("p",null,"Longitude: ",t),r.a.createElement("p",null,"Address: ",a," "))}function G(){var e=Object(o.c)((function(e){return e.weather.weather})),t=Object(o.c)((function(e){return e.weather.main}));return r.a.createElement("div",null,e.map((function(e,a){return r.a.createElement("p",{key:a},t.temp,"C","\xb0",",",r.a.createElement("img",{style:{width:"30px",verticalAlign:"middle"},src:"http://openweathermap.org/img/w/".concat(e.icon,".png"),alt:""}),e.description)})))}var F=a(3),q=a(26),Y=a.n(q);function B(){var e=Object(o.c)((function(e){return e.weather.weatherLS})),t=Object(o.c)((function(e){return e.weather.mainLS})),a=Object(o.c)((function(e){return e.geolocation.historyUserAddress})),n=Object(o.c)((function(e){return e.weather.dateTimeLS}));return r.a.createElement("div",{className:Y.a.container},r.a.createElement("div",{className:Y.a.item},n.map((function(e,t){return r.a.createElement("p",{key:t},e.day,".",e.month,".",e.year,"\u0433. ",e.hours,":",e.minutes)}))),r.a.createElement("div",{className:Y.a.item},t.map((function(e,t){return r.a.createElement("p",{key:t},e,"C","\xb0")}))),r.a.createElement("div",{className:Y.a.item},e.map((function(e,t){return r.a.createElement("p",{key:t},e.description)}))),r.a.createElement("div",{className:Y.a.item},a.map((function(e,t){return r.a.createElement("p",{key:t},e)}))))}function P(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(G,null))}var Q=function(){return r.a.createElement("div",{className:k.a.appWrapper},r.a.createElement(M,null),r.a.createElement("div",{className:k.a.appWrapperContent},r.a.createElement(F.c,null,r.a.createElement(F.a,{exact:!0,path:"/",render:function(){return r.a.createElement(P,null)}}),r.a.createElement(F.a,{path:"/history",render:function(){return r.a.createElement(B,null)}}))))};function z(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.geolocation.latitude}));Object(n.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(a,c):alert("Geolocation is not supported by this browser.")}),[]);var a=function(a){var n=a.coords,r=n.latitude,c=n.longitude,o=r.toFixed(3),i=c.toFixed(3);e(S(o,i)),t!==o&&(e(function(e,t){return function(){var a=Object(m.a)(u.a.mark((function a(n,r){var c,o,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(c=localStorage.getItem("user address"))&&n(_(JSON.parse(c))),a.prev=2,a.next=5,g(t,e);case 5:o=a.sent,i=r().geolocation.historyUserAddress,localStorage.setItem("user address",JSON.stringify([o.results[0].formatted_address].concat(Object(d.a)(i)))),n(b(o.results[0].formatted_address)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),console.table(a.t0.message);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(r,c)),e(function(e,t){return function(){var a=Object(m.a)(u.a.mark((function a(n,r){var c,o,i,s,l,m,p,E,h;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=new Date,o={year:c.getFullYear(),month:c.getMonth(),day:c.getDate(),hours:c.getHours(),minutes:c.getMinutes(),id:c.getSeconds()},console.log(o),(i=localStorage.getItem("date data"))&&n(A(JSON.parse(i))),(s=localStorage.getItem("weather data"))&&n(y(JSON.parse(s))),(l=localStorage.getItem("main data"))&&n(j(JSON.parse(l))),a.prev=9,a.next=12,w(e,t);case 12:m=a.sent,p=r().weather.weatherLS,E=r().weather.mainLS,h=r().weather.dateTimeLS,localStorage.setItem("weather data",JSON.stringify([m.weather[0]].concat(Object(d.a)(p)))),localStorage.setItem("main data",JSON.stringify([m.main.temp].concat(Object(d.a)(E)))),localStorage.setItem("date data",JSON.stringify([o].concat(Object(d.a)(h)))),n(v(m.weather,m.main)),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),console.table(a.t0.message);case 25:case"end":return a.stop()}}),a,null,[[9,22]])})));return function(e,t){return a.apply(this,arguments)}}()}(r,c)))},c=function(e){switch(e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case e.TIMEOUT:console.log("The request to get user location timed out.");break;default:console.log("An unknown error occurred.")}};return r.a.createElement(Q,null)}Object(c.render)(r.a.createElement(I.a,null,r.a.createElement(o.a,{store:L},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.04c588ec.chunk.js.map